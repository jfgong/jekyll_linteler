<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>liunx基本概念和操作</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Random Bug's site</a></h1>
            </div>

                <h2>liunx基本概念和操作</h2>
<p class="meta">27 Jul 2013</p>

<div class="post">
<h1 id='id29'>环境变量</h1>

<pre><code>子进程继承父进程的环境变量
source ~/.profile	//设置环境变量生效
/etc/profile		//System login profile
$HOME/.profile		//User&#39;s login profile
$HOME/.cshrc		//read at beginning of execution by each shell
~/.bashrc and ~/.cshrc	//针对不同shell的配置文件
login -&gt; /etc/profile -&gt; ~/.profile
cat /etc/passwd | grep username //可以查看用户默认使用的shell</code></pre>

<h1 id='_'>本地变量 环境变量</h1>

<pre><code>TEST=hello		//本地变量定义
cat script.sh:
  echo $SHLVL
  echo TEST is ${TEST:-not set}
./script.sh		//子shell不继承本地变量
source ./script.sh	//在当前shell中已定义
//导出变量,只适用于当前shell及其子进程,但不能从子进程导出到父进程
export TEST		//临时添加环境变量
./script.sh		//子shell继承环境变量
source ./script.sh	//在当前shell中已定义</code></pre>

<h1 id='id30'>压缩解压</h1>

<pre><code>tar -zcvf shell.tar.gz	shell/	//压缩成gzip文件
tar -zxvf shell.tar.gz		//将gzip文件解
tar -jcvf shell.tar.bz2 shell/	//压缩为bz2文件
tar -jxvf shell.tar.bz2		//将bz2文件解压</code></pre>

<h1 id='id31'>截图</h1>

<pre><code>Alt + Printscreen		//活动窗口
Shift + Printscreen		//自定义窗口
Ctrl + Printscreen		//全屏幕拷贝至粘贴板
sleep 5; gnome-screenshot	//再用ksnapshot截取菜单</code></pre>

<h1 id='id32'>编码转换</h1>

<pre><code>//字幕编码多为gbk，将文件编码转换为utf8
iconv -f gbk -t utf8 Blood\ Diamond.srt &gt; Blood\ Diamond-utf8.srt</code></pre>

<h1 id='disk_usage'>disk usage</h1>

<pre><code>du -[ahs]		//a(每个文件)s(总计)h(human)</code></pre>

<h1 id='id33'>几种查找</h1>

<pre><code>find		//针对文件
locate		//针对文件,在数据库文件中搜索,类似find -m,不搜索具体目录,比find快
whereis		//针对命令,搜索二进制(-b)man说明文件(-m)源文件(-s)
which		//针对命令,在$PATH指定的路径中搜索,显示命令的路径
type		//针对命令,命令由shell自带的，还是由shell外部的独立二进制文件提供</code></pre>

<h1 id='id34'>问题</h1>

<ol>
<li>sudo提示command not found</li>
</ol>

<p>在/bin或者/usr/bin中添加具体command的link</p>

<ol>
<li>配置长城宽带pppoe后,重启提示&#8221;waiting for network configuration&#8221;,进入系统后网络连接的图标消失</li>
</ol>

<p>使用 sudo pppoeconf 命令时,会有信息写入/etc/network/interfaces 文件内,直接导致出现了上面的问题. 打开/etc/network/interfaces文件,除下行外,其他内容全部删除，重启 auto lo iface lo inet loopback</p>

<p>Posted by randombug @ 27 Jul 2013</p>
</div>


          </div>
        </div> <!-- /container -->

    </body>
</html>
